
# 更新日志

此项目的所有值得注意的更改都将记录于此文件中.


## [2.4.1] - 2020/09/17

优化了部分布阵相关函数算法. 新增少量阵型.


## [2.4.0] - 2020/09/10 [YANKED]

- 界面默认字体大小更改为 10.
- 内置阵型列表更新, 新增大量阵型.
- 修复了导入残血地刺王时依然是满血外观的问题.
- 其他一些不值一提的细节修正和优化.


## [2.3.5] - 2020/09/02 [YANKED]

优化了模拟自然出怪算法的仿真度, 可以调节非旗帜波红眼权重.


## [2.3.4] - 2020/06/08 [YANKED]

修复了高 DPI 缩放界面过大的问题.


## [2.3.3] - 2020/06/07 [YANKED]

代码细节修复. 移除 XP/Vista 系统支持.


## [2.3.2] - 2020/05/02 [YANKED]

修复了在某些默认解锁隐藏关的改版上崩溃的问题.


## [2.3.1] - 2020/04/29 [YANKED]

规范版本号.


## [2.0.3] / [2.3.0] - 2020/04/13 [YANKED]

### 新增

- 新增启动画面.
- 游戏菜单, 新增"游戏窗口置顶"功能.
- 出怪页面, 新增"出怪数量统计"按钮, 可查看具体每波每种僵尸的数量.
- 布阵页面, "允许切换场景"选项框又回来了.
- 杂项页面, 新增传送门修改功能.

### 修复

- 修复了植物虚弱功能修改数值错误的问题.
- 修复了切换场景后残留水面波光的问题.

### 变更

- 关卡页面, "显示隐藏游戏"默认开启.
- 关卡页面, 无尽默认轮数更新为1009. (1009x2+2=2020)
- 出怪页面, "限制出怪种类数"被勾选时路障读报才会互斥.
- 场地页面, 默认选中第一行第一列.
- 场地页面, 可以生成更多的掉落物品. (部分可能会崩溃)
- 布阵页面, "吃光墓碑"改成"清空墓碑".
- 杂项页面, "后台运行"默认开启.
- 关卡/出怪/卡槽/场地页面, 卡片/僵尸/模式/场地名称前面添加数字代号.

### 优化

- 关卡页面, IZE 主题使用中文名称.
- 植物页面, 植物无敌可以免疫僵王车砸了.
- 僵尸页面, 僵尸无敌可以免疫魅惑菇/三叶草/小推车了.
- 卡槽页面, 优化了隐藏菜单按钮的修改方法.
- 场地页面, 智能搭梯时先清除场上已有的梯子.
- 布阵页面, "快速过关"现在可以控制暂停使结束的时候炮处于最亮状态.
- 布阵页面, 水路睡莲和屋顶花盆可以选择铺到哪一列.
- 杂项页面, 提升了存档文件夹打开速度.
- 杂项页面, 优化了打包解包算法, 并且过程不会阻塞其他的修改操作.


## [2.0.2] / [2.2.0] - 2019/10/18 [YANKED]

### 新增

- 游戏菜单, 新增重新查找游戏时的"维持已选功能"菜单项, 只对选项框功能有效.
- 布阵页面, 内置阵型按照场地和炮数排序, 新增联网更新阵型列表功能, 新增保存和删除自定义阵型功能.
- 部分复杂功能和耗时操作增加弹窗或者状态栏提示.
- 关于对话框, 新增鸣谢名单.

### 修复

- 状态页面, 切换到其他页面时"自动刷新"不会被取消选择, 除非没找到游戏.

### 变更

- 微调软件图标色调.
- 场地页面, 修改游戏场景时的弹窗警告只在首次操作时出现. 并且提供更加常规的隐藏场地进入方法教程链接.

### 优化

- 关卡页面, 默认混乱到生存模式, 切换不同模式时不同下拉列表框的状态随之变化.
- 杂项页面, XP 系统上点击 打开存档目录 时直接弹窗提示存档位置.
- 杂项页面, 可直接拖动 pak 文件或者解包文件夹到窗口内, 打包完成后提示打包文件名.

### 删除

- 布阵页面, 删除"无尽阵型"标签, 删除"允许切换场景"选项框.


## [2.0.1] / [2.1.0] - 2019/01/02 [YANKED]

### 新增

- 卡槽页面, 新增"隐藏菜单按钮"功能.
- 场地页面, 新增修改游戏场景时的弹窗警告.

### 修复

- 资源页面, 修复了更改血量时饰品提示不完全的问题.
- 卡槽页面, 修复了卡片(类型/模仿者/是否隐藏)的反馈显示错误问题.

### 变更

- 卡槽页面, 默认勾选"显示铲子".

### 优化

- 汇编类基础函数优化.
- 未找到游戏时不发射数值反馈信号.
- 优化了从行列到像素坐标的转换算法.
- 开关"快捷布阵模式"时对应功能的选项框状态跟随变化.
- 资源页面, 排版优化.
- 出怪页面, 优化了模拟自然出怪算法中的僵尸权重.
- 状态页面, 未找到游戏时取消勾选"自动刷新"选项框.
- 重新查找游戏时如果"后台运行"已勾选则开启该功能.


## [2.0.0] - 2018/08/27 [YANKED]

### 新增

- 新增测试版本到期提示功能.
- 新增保存设置功能, 所有配置信息保存在注册表中.
- 新增动态语言切换功能, 目前包括 简体中文/English.
- 新增窗口大小动态变化功能, 根据侧边栏和工具栏是否显示, 语言, 屏幕 DPI 缩放比例等因素改变窗口大小.
- 新增编译器识别功能, 本软件能同时在 gcc/msvc/clang 下编译通过并在"关于"对话框显示对应的版本信息.
- 新增检查更新功能, 在联网的情况下检查本地是否是最新版本, 在线下载网站 https://pvz.lmintlcx.com/tools/.
- 新增帮助文档, 主要包括软件介绍以及"出怪"和"布阵"两大功能的详细介绍.
- 新增更新日志.

- 新增"文件"菜单, 打开pak文件/打开pak目录/重启应用/退出应用.
- 新增"游戏"菜单, 重新查找游戏.
- 新增"页面"菜单, 切换不同的功能页面.
- 新增"设置"菜单, 切换侧边栏导航或者工具栏导航, 切换小王子出怪器布局, 限制简略模式下所选的出怪种类数, 保存所选出怪列表, 静音, 更改字体, 恢复默认设置.
- 新增"语言"菜单, 动态语言切换.
- 新增"帮助"菜单, 帮助文档/视频演示/访问网站/发送反馈/更新日志/检查更新/关于软件.
- 新增"页面"工具栏, 切换不同的功能页面, 和侧边栏不同时显示.
- 新增状态栏, 显示游戏查找结果和版权信息.

- 资源页面, 新增"僵尸不掉钱"功能.
- 资源页面, 新增修改 价值/血量/时间 功能.
- 关卡页面, 新增"锁定IZE阵型"功能.
- 植物页面, 新增以下功能: 灰烬瞬爆, 灰烬不爆, 攻击重叠, 植物火炬, 植物大蒜, 植物纸板.
- 僵尸页面, 新增"下一波"功能.
- 出怪页面, 新增切换不同模式时同步所选出怪到另一模式的功能.
- 出怪页面, 新增是否切换小王子出怪修改器布局的功能.
- 出怪页面, 新增是否限制简略模式下所选僵尸种类数的功能.
- 出怪页面, 新增是否在关闭软件时保存所选出怪的功能.
- 出怪页面, 新增详细模式下显示自然出怪下红眼的出现波数功能.
- 出怪页面, 新增详细模式下控制红眼出现波数功能.
- 卡槽页面, 新增隐藏卡槽及隐藏卡片功能.
- 场地页面, 新增放置钉耙功能.
- 场地页面, 新增放置物品(银币, 金币, 钻石, 阳光, 小阳光, 大阳光)功能.
- 场地页面, 新增"清除除草机"功能.
- 场地页面, 新增修改背景音乐功能.
- 场地页面, 新增清空物品(墓碑, 弹坑, 梯子, 传送门, 罐子, 蜗牛, 钉耙, 脑子)功能.
- 新增布阵页面, 功能包括: 快捷布阵模式(自动收集, 玉米炮无冷却, 植物无敌, 暂停出怪, 紫卡无限制, 无视阳光, 卡片无冷却, 浓雾透视), 快速过关(直接过关, 秒杀所有僵尸, 阳光 8000, 轮数 1008), 贴吧名阵一键布阵, 导入/导出布阵字符串(自动切换场景, 保留血量状态).
- 新增花园页面, 可修改禅境花园里面植物的场地/类型/方向/颜色/状态.
- 新增罐子页面, 可修改场上罐子的位置/皮肤/类型(植物/僵尸/阳光)/内容.
- 特效页面, 新增"锤僵尸""坟墓模式""蹦极闪电战"三种小游戏模式.
- 杂项页面, 新增"打开存档目录"功能.
- 杂项页面, 新增目标地图修改功能, 可修改"看星星""坚果艺术""太阳花艺术"的目标地图.
- 杂项页面, 新增加农炮发射器功能, 可以根据索引找到场上玉米炮后凭空发射, 也可以自动找到全部玉米炮并且全部发射(随机落点或者指定落点).

### 修复

- 布阵页面, 修复了清空植物时会残留未唤醒蘑菇zzz的问题.

### 变更

- 字体大小限制为 [9, 12].
- 代码重构. 新增键鼠操作类 bot, 工作类 pvz 拆分为 process/code/pak, 新增 page 头文件和源文件包含所有页面类, 新增单例字符串列表类 list.
- 重构打包解包 pak 部分的全部代码.
- 更改软件图标.
- 资源页面和关卡页面互换位置.
- 关卡页面, 修改游戏场景功能移至场地页面.
- 资源页面, 阳光默认值更改为 8000, 金钱默认值更改为 80000.
- 资源页面, "提高阳光上限"和"提高金钱上限"更改为可以修改为具体值.
- 资源页面, "狂掉阳光"只在"自动收集"开启时可用.
- 资源页面, "修改智慧树高度""花肥无限""杀虫剂无限""巧克力无限""树肥无限"移至花园页面.
- 资源页面, "获得商店物品"移至关卡页面.
- 植物页面, 修改攻击力功能移至资源页面.
- 出怪页面, 出怪模式更改为"自然出怪""极限出怪""模拟自然出怪"三种.
- 出怪页面, 对特殊僵尸的处理分为"限制旗帜""限制雪人""限制蹦极""限制红眼"四种.
- 卡槽页面, "显示铲子"按钮改为选项框.
- 场地页面, "吃光墓碑""水路睡莲""屋顶花盆""清空植物"移至布阵页面.

### 优化

- 单个应用实例功能采用 QLocalServer 和 QLocalSocket 实现.
- 读写内存函数优化, 可接受初始化列表或者模板参数包作为参数, 可接受 std::array 返回值, 读写内存时输出调试信息.
- 关卡页面排版优化.
- 资源页面排版优化.
- 僵尸页面, 调整"僵尸虚弱""僵尸无敌"的位置.
- 出怪页面, 自定义出怪函数优化, 更改随机数算法, 使用统计数据作为权重, 更新了特殊处理僵尸的填充方式, 添加大量断言测试.
- 卡槽页面排版优化.
- 场地页面排版优化.
- 场地页面, 修改场景会同时修改格子类型和出怪判定.
- 杂项页面, 后台运行时背景音乐不会停止.

### 删除

- 资源页面, 删除"钱币快速消失"功能, 用"僵尸不掉钱"代替.
- 植物页面, 删除"生产加速""攻击加速"功能.
- 僵尸页面, 删除"倾巢而出"功能, 用"下一波"代替.
- 删除关于页面, 用关于对话框代替.


## [1.12.1] - 2018/03/07 [YANKED]

### 新增

- 窗口大小跟随 DPI 缩放.
- 新增以初始化列表为参数的读写内存函数.
- 新增修改字体功能.

### 优化

- 调整卡槽页面部分选项框位置.


## [1.12.0] - 2018/02/26 [YANKED]

首次公开发布.

### 新增

- 资源页面, 功能包括: 修改阳光和金钱, 提高阳光和金钱上限, 狂掉阳光, 不掉阳光, 自动收集, 钱币快速消失, 修改智慧树高度, 获得所有商店物品, 花肥无限, 杀虫剂无限, 巧克力无限, 树肥无限.
- 关卡页面, 功能包括: 解锁金向日葵, 临时解锁所有模式, 显示隐藏游戏, 直接过关, 无尽跳关, 混乱模式(切换到可能引起崩溃的关卡时按钮变灰), 修改场景.
- 植物页面, 功能包括: 玉米炮无冷却, 磁力菇无冷却, 土豆雷无冷却, 大嘴花无冷却, 植物无敌, 植物脆弱, 锁定玉米, 锁定黄油, 毁灭菇无弹坑, 蘑菇免唤醒, 强力三叶草, 穿甲豌豆, 植物保护伞, 宝石自由移动, 生产加速, 攻击加速, 修改攻击力.
- 僵尸页面, 功能包括: 僵尸立即爆炸, 僵尸从不爆炸, 屏蔽寒冰减速, 屏蔽黄油固定, 僵尸隐形, 僵尸现形, 屏蔽三人组, 冰车无痕, 僵尸虚弱, 僵尸无敌, 巨人不扔小鬼, 巨人可被吃, 暂停出怪, 僵尸不动, 僵王不动, 气球自爆, 吸怪, 倾巢而出, 对所有僵尸秒杀/魅惑/冻结/减速/固定/吹走/濒死/消失/变黑/变大.
- 出怪页面, 可切换至详细模式, 有自然出怪和极限出怪两种模式, 极限出怪可选均匀填充或是随机填充, 极限出怪可选限制雪人/蹦极/红眼, 修改出怪种子.
- 卡槽页面, 功能包括: 修改卡槽格数, 显示铲子, 锁定铲子, 修改每一格卡槽卡片(模仿者), 无视阳光, 卡片无冷却, 传送带无延迟, 紫卡无限制, 自由种植, 修改常见卡片的攻速/价格/冷却.
- 场地页面, 功能包括: 在特定的行列种植植物(模仿者), 放置僵尸, 冒出墓碑, 放置梯子, 南瓜梯子(仅白南瓜), 吃光墓碑, 水路睡莲, 屋顶花盆, 清空植物, 修改特定的行列格子类型, 修改行出怪判定, 启动除草机, 恢复除草机.
- 特效页面, 功能包括: 智慧树指令(SUKHBIR, FUTURE, MUSTACHE, TRICKEDOUT, DAISIES, DANCE, PINATA, ↑↑↓↓←→←→BA), 小游戏模式(小僵尸大麻烦, 雨中种植物, 暴风雨之夜, 超乎寻常的压力, 你看他们像柱子一样, 僵尸快跑), 修改冰道坐标, 全屏浓雾, 浓雾透视, 花瓶透视.
- 杂项页面, 功能包括: 禁止存档, 禁止删档, 后台运行, 禁用暂停, 调试模式, 打包解包 pak 文件.
- 状态页面, 可显示以下游戏信息: 游戏模式, 游戏界面, 进行时间, 完成选卡数, 本轮总波数, 已刷新波数, 本波总血量, 刷新触发血量, 刷新倒计时, 大波刷新倒计时, 植物数量, 僵尸数量.
- 关于页面, 显示软件的版本号和版权信息等.
